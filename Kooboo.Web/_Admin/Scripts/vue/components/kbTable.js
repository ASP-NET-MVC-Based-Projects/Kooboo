!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";function a(e,t,n,a,s,r,l,i){var o,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),l?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},c._ssrRegister=o):s&&(o=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),o)if(c.functional){c._injectStyles=o;var u=c.render;c.render=function(e,t){return o.call(t),u(e,t)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,o):[o]}return{exports:e,options:c}}n.d(t,"a",function(){return a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={computed:{class(){if(!this.meta.class)return null;if(!(this.meta.class instanceof Array))return this.meta.class;for(var e="",t=0;t<this.meta.class.length;t++){const n=this.meta.class[t];e+="object"==typeof n?" "+n[this.value]:" "+n}return e},value(){return this.row[this.name]},text(){return this.meta.text?"object"==typeof this.meta.text?this.formatText(this.meta.text[this.value]):this.formatText(this.meta.text,this.value):"date"==typeof this.value?Date.toDefaultLangString(this.value):this.value},visible(){return!this.meta.visible||this.meta.visible===this.value}},methods:{formatText(template,value){var result=template.replace("{0}",value);return result=result.replace(/\{([^\}]+)\}/g,(m,p)=>eval(`Kooboo.text.${p}`)),result}}}},function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{ref:"button",attrs:{href:e.href,target:e.target}},[e._t("default",[e.icon?n("i",{class:"fa fa-"+e.meta.iconClass}):[e._v(e._s(e.meta.displayName))]])],2)};a._withStripped=!0;var s={name:"InnerButton",props:{meta:Object,bindUrl:Function,icon:{type:Boolean,default:!1}},mounted(){this.isAction&&this.$refs.button.addEventListener("click",this.onClick)},computed:{isAction(){return"post"===this.meta.action||"event"===this.meta.action||"popup"===this.meta.action},href(){return this.isAction?"javascript:;":this.bindUrl(this.meta.url)},target(){return"newWindow"===this.meta.action?"_blank":null}},methods:{onClick(e){e.preventDefault(),this.$emit("click",e)}}},r=n(0),l=Object(r.a)(s,a,[],!1,null,null,null);l.options.__file="kbTable/src/components/_Button.vue";t.a=l.exports},function(module,__webpack_exports__,__webpack_require__){"use strict";var _menu_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);__webpack_exports__.a={name:"TableMenu",props:{meta:Array,selected:Array,data:Object,list:Array},methods:{visible(item){if(!item.visible)return!0;const compare="="===item.visible.compare?"===":item.visible.compare;return eval(`${this.selected.length} ${compare} ${item.visible.value}`)}},components:{..._menu_index__WEBPACK_IMPORTED_MODULE_0__.a}}},function(e,t){e.exports=Vue},function(e,t,n){"use strict";var a=function(){var e=this.$createElement;return(this._self._c||e)("inner-button",{attrs:{meta:this.meta,selected:this.selected,list:this.list}})};a._withStripped=!0;var s=function(){var e=this.$createElement;return(this._self._c||e)("inner-button",{class:["btn navbar-btn",this.meta.class,{"pull-right":"right"===this.meta.align},{"btn-default":this.icon}],attrs:{meta:this.meta,"bind-url":this.bindUrl,icon:this.icon},on:{click:this.onClick}})};s._withStripped=!0;var r=n(2),l={name:"MenuInnerButton",props:{meta:Object,selected:Array,list:Array,icon:{type:Boolean,default:!1}},methods:{bindUrl(e){return this.$parameterBinder().bind(e)},onClick(){switch(this.meta.action){case"post":api.post(this.bindUrl(this.meta.url),{ids:this.selected.map(e=>e.id)});break;case"event":this.$root[this.meta.url](this.selected);break;default:this.$root.$refs.popup.show({parameters:this.$parameterBinder().getUrlKeyValue(this.meta.url),context:this.list,selected:this.selected})}}},components:{InnerButton:r.a}},i=n(0),o=Object(i.a)(l,s,[],!1,null,null,null);o.options.__file="kbTable/src/menu/_Button.vue";var c=o.exports,u={name:"MenuButton",props:{meta:Object,selected:Array,data:Object,list:Array},components:{InnerButton:c}},m=Object(i.a)(u,a,[],!1,null,null,null);m.options.__file="kbTable/src/menu/Button.vue";var p=m.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["btn-group navbar-btn",{open:e.expanded}]},[n("button",{class:"btn "+e.meta.class,attrs:{"data-toggle":"dropdown"},on:{click:function(t){t.preventDefault(),e.expanded=!e.expanded}}},[n("span",[e._v(e._s(e.meta.displayName))]),e._v(" "),n("i",{staticClass:"fa fa-angle-down"})]),e._v(" "),n("ul",{staticClass:"dropdown-menu"},e._l(e.options,function(t,a){return n("li",{key:a},[n("inner-button",{attrs:{meta:e.meta,selected:e.selected,"bind-url":function(n){return e.bindUrl(n,t.value)}},on:{click:function(n){return e.onClick(t.value)}}},[e._v(e._s(t.text))])],1)}),0)])};d._withStripped=!0;var h={name:"MenuDropDown",props:{meta:Object,selected:Array,data:Object,list:Array},data:()=>({expanded:!1}),computed:{options(){const e=this.meta.options;if("object"==typeof e){return this.data[e.data].map(t=>({text:t[e.displayName],value:t}))}return e.map(e=>({text:e.displayName,value:e}))}},methods:{bindUrl(e,t){return this.$parameterBinder().bind(e)},onClick(e){switch(this.meta.action){case"post":api.post(this.bindUrl(this.meta.url,e),{ids:this.selected.map(e=>e.id)});break;case"event":this.$root[this.meta.url](this.selected);break;default:this.$root.$refs.popup.show({parameters:this.$parameterBinder().getUrlKeyValue(this.meta.url),context:this.list,selected:this.selected})}}},components:{InnerButton:r.a}},_=Object(i.a)(h,d,[],!1,null,null,null);_.options.__file="kbTable/src/menu/DropDown.vue";var b=_.exports,v=function(){var e=this.$createElement;return(this._self._c||e)("inner-button",{attrs:{meta:this.meta,selected:this.selected,icon:!0,list:this.list}})};v._withStripped=!0;var f={name:"MenuIcon",props:{meta:Object,selected:Array,data:Object,list:Array},components:{InnerButton:c}},x=Object(i.a)(f,v,[],!1,null,null,null);x.options.__file="kbTable/src/menu/Icon.vue";var y=x.exports;t.a={MenuButton:p,MenuDropdown:b,MenuIcon:y}},function(e,t,n){"use strict";n.r(t);var a=n(4),s=n.n(a),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.meta?n("inner-menu",{attrs:{meta:e.meta.menu,data:"object"==typeof e.data?e.data:null,list:e.list,selected:e.selected}}):e._e(),e._v(" "),e.meta?n("inner-table",{attrs:{meta:e.meta.table,list:e.list}}):e._e()],1)};r._withStripped=!0;var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar navbar-default"},[n("div",{staticClass:"container-fluid"},e._l(e.meta,function(t,a){return n("menu-"+t.type,{directives:[{name:"show",rawName:"v-show",value:e.visible(t),expression:"visible(item)"}],key:a,tag:"component",attrs:{meta:t,data:e.data,selected:e.selected,list:e.list}})}),1)])};l._withStripped=!0;var i=n(3).a,o=n(0),c=Object(o.a)(i,l,[],!1,null,null,null);c.options.__file="kbTable/src/Menu.vue";var u=c.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-striped table-hover"},[n("thead",[n("tr",[n("th",[e.list.length?n("input",{attrs:{type:"checkbox"},on:{change:e.selectAll}}):e._e()]),e._v(" "),e._l(e.meta.columns.map(function(t){return{colName:t.name,header:t.header||e.defaultHeaderMeta}}),function(t){var a=t.colName,s=t.header;return n("th",{key:"header_"+a,class:s.class,style:s.style},[e._v(e._s(s.displayName))])})],2)]),e._v(" "),n("tbody",e._l(e.list,function(t,a){return n("tr",{key:a},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.__selected,expression:"row.__selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.__selected)?e._i(t.__selected,null)>-1:t.__selected},on:{change:function(n){var a=t.__selected,s=n.target,r=!!s.checked;if(Array.isArray(a)){var l=e._i(a,null);s.checked?l<0&&e.$set(t,"__selected",a.concat([null])):l>-1&&e.$set(t,"__selected",a.slice(0,l).concat(a.slice(l+1)))}else e.$set(t,"__selected",r)}}})]),e._v(" "),e._l(e.meta.columns.map(function(t){return{colName:t.name,cell:t.cell||e.defaultTextMeta}}),function(s){var r=s.colName,l=s.cell;return n("cell-"+l.type,{key:a+"_"+r,tag:"component",attrs:{name:r,meta:l,row:t,list:e.list}})})],2)}),0)])])};m._withStripped=!0;var p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",e._l(e.row[e.name],function(t,a){return n("a",{key:a,staticClass:"label label-sm kb-table-label-refer",style:"background-color:"+e.colorClass(a),attrs:{href:"javascript:;"}},[e._v("\n    "+e._s(e.labelText(a,t))+"\n  ")])}),0)};p._withStripped=!0;var d=n(1),h={name:"CellArray",props:{name:String,meta:Object,row:Object},methods:{colorClass:e=>Kooboo.getLabelColor(e),labelText(e,t){if(this.meta.text){const n=this.meta.text.replace("{key}",`{component.table.${e}}`);return this.formatText(n,t)}return t}},mixins:[d.a]},_=Object(o.a)(h,p,[],!1,null,null,null);_.options.__file="kbTable/src/cells/Array.vue";var b=_.exports,v=function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("span",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],class:"badge "+this.class,style:this.meta.style},[this._v(this._s(this.text))])])};v._withStripped=!0;var f={name:"CellBadge",props:{name:String,meta:Object,row:Object},mixins:[d.a]},x=Object(o.a)(f,v,[],!1,null,null,null);x.options.__file="kbTable/src/cells/Badge.vue";var y=x.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"table-action"},[n("inner-button",{class:["btn btn-sm",e.meta.class],style:e.meta.style,attrs:{meta:e.meta,row:e.row,name:e.name,list:e.list}},[e._v("\n    "+e._s(e.meta.innerText)+"\n  ")])],1)};w._withStripped=!0;var k=function(){var e=this.$createElement;return(this._self._c||e)("inner-button",{attrs:{meta:this.meta,"bind-url":this.bindUrl,icon:this.icon},on:{click:this.onClick}},[this._t("default")],2)};k._withStripped=!0;var j=n(2),O={name:"CellInnerButton",props:{name:String,meta:Object,list:Array,row:Object,icon:{type:Boolean,default:!1}},methods:{bindUrl(e){return e=e||this.row[this.name],e=this.$parameterBinder().bind(e,this.row)},onClick(){switch(this.meta.action){case"event":this.$root[this.meta.url](this.row);break;case"post":api.post(this.bindUrl(this.meta.url,this.row));break;default:this.$root.$refs.popup.show({parameters:this.$parameterBinder().getUrlKeyValue(this.meta.url),context:this.list,row:this.row})}}},components:{InnerButton:j.a}},g=Object(o.a)(O,k,[],!1,null,null,null);g.options.__file="kbTable/src/cells/_Button.vue";var C=g.exports,$={name:"CellButton",props:{name:String,meta:Object,list:Array,row:Object},mixins:[d.a],components:{InnerButton:C}},T=Object(o.a)($,w,[],!1,null,null,null);T.options.__file="kbTable/src/cells/Button.vue";var S=T.exports,B=function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"table-action"},[t("inner-button",{class:["btn btn-default",this.meta.class],style:this.meta.style,attrs:{meta:this.meta,row:this.row,name:this.name,icon:!0,list:this.list}})],1)};B._withStripped=!0;var A={name:"CellIcon",props:{name:String,meta:Object,list:Array,row:Object},mixins:[d.a],components:{InnerButton:C}},E=Object(o.a)(A,B,[],!1,null,null,null);E.options.__file="kbTable/src/cells/Icon.vue";var I=E.exports,M=function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("span",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],class:"label "+this.class,style:this.meta.style},[this._v(this._s(this.text))])])};M._withStripped=!0;var N={name:"CellLabel",props:{name:String,meta:Object,row:Object},mixins:[d.a]},D=Object(o.a)(N,M,[],!1,null,null,null);D.options.__file="kbTable/src/cells/Label.vue";var U=D.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("inner-button",{class:e.meta.class,style:"cursor:pointer; "+e.meta.style,attrs:{meta:e.meta,row:e.row,name:e.name}},[e._v(e._s(e.text))])],1)};L._withStripped=!0;var P={name:"CellLink",props:{name:String,meta:Object,row:Object},mixins:[d.a],components:{InnerButton:C}},K=Object(o.a)(P,L,[],!1,null,null,null);K.options.__file="kbTable/src/cells/Link.vue";var R=K.exports,V=function(){var e=this.$createElement;return(this._self._c||e)("td",[this._v(this._s(this.text))])};V._withStripped=!0;var q={name:"CellText",props:{name:String,meta:Object,row:Object},mixins:[d.a]},W=Object(o.a)(q,V,[],!1,null,null,null);W.options.__file="kbTable/src/cells/Text.vue";var F=W.exports,H=function(){var e=this.$createElement;return(this._self._c||e)("td",[this._v(this._s(this.text))])};H._withStripped=!0;var X={name:"CellDate",props:{name:String,meta:Object,row:Object},computed:{text(){return new Date(this.row[this.name]).toDefaultLangString()}},mixins:[d.a]},z=Object(o.a)(X,H,[],!1,null,null,null);z.options.__file="kbTable/src/cells/Date.vue";var G=z.exports;const J={displayName:""},Q={type:"text"};var Y={name:"TableContent",props:{meta:Object,list:Array},computed:{defaultHeaderMeta:()=>J,defaultTextMeta:()=>Q},methods:{selectAll(e){const t=e.target.checked;this.list.forEach(e=>{s.a.set(e,"__selected",t)})}},components:{...{CellArray:b,CellBadge:y,CellButton:S,CellIcon:I,CellLabel:U,CellLink:R,CellText:F,CellDate:G}}},Z=Object(o.a)(Y,m,[],!1,null,null,null);Z.options.__file="kbTable/src/Table.vue";var ee=Z.exports,te={name:"KoobooTable",props:{meta:Object,data:Object,listName:String},computed:{selected(){return this.list.filter(e=>e.__selected)},list(){return this.data?this.listName?this.data[this.listName]:this.data:[]}},components:{InnerMenu:u,InnerTable:ee}},ne=Object(o.a)(te,r,[],!1,null,null,null);ne.options.__file="kbTable/src/Index.vue";var ae=ne.exports;s.a.component("kb-table",ae)}]);