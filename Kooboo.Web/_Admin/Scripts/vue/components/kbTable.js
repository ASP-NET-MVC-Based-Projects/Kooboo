!function(t){var e={};function n(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";function a(t,e,n,a,s,r,l,i){var o,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),l?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},c._ssrRegister=o):s&&(o=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),o)if(c.functional){c._injectStyles=o;var u=c.render;c.render=function(t,e){return o.call(e),u(t,e)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,o):[o]}return{exports:t,options:c}}n.d(e,"a",function(){return a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={computed:{class(){if(!this.meta.class)return null;if(!(this.meta.class instanceof Array))return this.meta.class;for(var t="",e=0;e<this.meta.class.length;e++){const n=this.meta.class[e];t+="object"==typeof n?" "+n[this.value]:" "+n}return t},value(){return this.row[this.name]},text(){return this.meta.text?"object"==typeof this.meta.text?this.formatText(this.meta.text[this.value]):this.formatText(this.meta.text,this.value):"date"==typeof this.value?Date.toDefaultLangString(this.value):this.value},visible(){return!this.meta.visible||this.meta.visible===this.value}},methods:{formatText(template,value){var result=template.replace("{0}",value);return result=result.replace(/\{([^\}]+)\}/g,(m,p)=>eval(`Kooboo.text.${p}`)),result}}}},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{ref:"button",attrs:{href:t.href,target:t.target}},[t._t("default",[t.icon?n("i",{class:"fa fa-"+t.meta.iconClass}):[t._v(t._s(t.meta.text))]])],2)};a._withStripped=!0;var s={name:"InnerButton",props:{meta:Object,bindUrl:Function,icon:{type:Boolean,default:!1}},mounted(){this.isAction&&this.$refs.button.addEventListener("click",this.onClick)},computed:{isAction(){return"post"===this.meta.action||"event"===this.meta.action||"popup"===this.meta.action},href(){return this.isAction?"javascript:;":this.bindUrl(this.meta.url)},target(){return"newWindow"===this.meta.action?"_blank":null}},methods:{onClick(t){t.preventDefault(),this.$emit("click",t)}}},r=n(0),l=Object(r.a)(s,a,[],!1,null,null,null);l.options.__file="kbTable/src/components/_Button.vue";e.a=l.exports},function(module,__webpack_exports__,__webpack_require__){"use strict";var _menu_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);__webpack_exports__.a={name:"TableMenu",props:{meta:Array,selected:Array,data:Object,list:Array},methods:{visible(item){if(!item.visible)return!0;const compare="="===item.visible.compare?"===":item.visible.compare;return eval(`${this.selected.length} ${compare} ${item.visible.value}`)}},components:{..._menu_index__WEBPACK_IMPORTED_MODULE_0__.a}}},function(t,e){t.exports=Vue},function(t,e,n){"use strict";var a=function(){var t=this.$createElement;return(this._self._c||t)("inner-button",{attrs:{meta:this.meta,selected:this.selected,list:this.list}})};a._withStripped=!0;var s=function(){var t=this.$createElement;return(this._self._c||t)("inner-button",{class:["btn navbar-btn",this.meta.class,{"pull-right":"right"===this.meta.align},{"btn-default":this.icon}],attrs:{meta:this.meta,"bind-url":this.bindUrl,icon:this.icon},on:{click:this.onClick}})};s._withStripped=!0;var r=n(2),l={name:"MenuInnerButton",props:{meta:Object,selected:Array,list:Array,icon:{type:Boolean,default:!1}},methods:{bindUrl(t){return this.$parameterBinder().bind(t)},onClick(){switch(this.meta.action){case"post":api.post(this.bindUrl(this.meta.url),{ids:this.selected.map(t=>t.id)});break;case"event":this.$root[this.meta.url](this.selected);break;default:this.$root.$refs.popup.show({parameters:this.$parameterBinder().getUrlKeyValue(this.meta.url),context:this.list,selected:this.selected})}}},components:{InnerButton:r.a}},i=n(0),o=Object(i.a)(l,s,[],!1,null,null,null);o.options.__file="kbTable/src/menu/_Button.vue";var c=o.exports,u={name:"MenuButton",props:{meta:Object,selected:Array,data:Object,list:Array},components:{InnerButton:c}},m=Object(i.a)(u,a,[],!1,null,null,null);m.options.__file="kbTable/src/menu/Button.vue";var p=m.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["btn-group navbar-btn",{open:t.expanded}]},[n("button",{class:"btn "+t.meta.class,attrs:{"data-toggle":"dropdown"},on:{click:function(e){e.preventDefault(),t.expanded=!t.expanded}}},[n("span",[t._v(t._s(t.meta.text))]),t._v(" "),n("i",{staticClass:"fa fa-angle-down"})]),t._v(" "),n("ul",{staticClass:"dropdown-menu"},t._l(t.options,function(e,a){return n("li",{key:a},[n("inner-button",{attrs:{meta:t.meta,selected:t.selected,"bind-url":function(n){return t.bindUrl(n,e.value)}},on:{click:function(n){return t.onClick(e.value)}}},[t._v(t._s(e.text))])],1)}),0)])};h._withStripped=!0;var _={name:"MenuDropDown",props:{meta:Object,selected:Array,data:Object,list:Array},data:()=>({expanded:!1}),computed:{options(){const t=this.meta.options;if("object"==typeof t){return this.data[t.data].map(e=>({text:e[t.text],value:e}))}return t.map(t=>({text:t.text,value:t}))}},methods:{bindUrl(t,e){return this.$parameterBinder().bind(t)},onClick(t){switch(this.meta.action){case"post":api.post(this.bindUrl(this.meta.url,t),{ids:this.selected.map(t=>t.id)});break;case"event":this.$root[this.meta.url](this.selected);break;default:this.$root.$refs.popup.show({parameters:this.$parameterBinder().getUrlKeyValue(this.meta.url),context:this.list,selected:this.selected})}}},components:{InnerButton:r.a}},d=Object(i.a)(_,h,[],!1,null,null,null);d.options.__file="kbTable/src/menu/DropDown.vue";var b=d.exports,v=function(){var t=this.$createElement;return(this._self._c||t)("inner-button",{attrs:{meta:this.meta,selected:this.selected,icon:!0,list:this.list}})};v._withStripped=!0;var f={name:"MenuIcon",props:{meta:Object,selected:Array,data:Object,list:Array},components:{InnerButton:c}},x=Object(i.a)(f,v,[],!1,null,null,null);x.options.__file="kbTable/src/menu/Icon.vue";var w=x.exports;e.a={MenuButton:p,MenuDropdown:b,MenuIcon:w}},function(t,e,n){"use strict";n.r(e);var a=n(4),s=n.n(a),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.meta?n("inner-menu",{attrs:{meta:t.meta.menu,data:"object"==typeof t.data?t.data:null,list:t.list,selected:t.selected}}):t._e(),t._v(" "),t.meta?n("inner-table",{attrs:{meta:t.meta.table,list:t.list}}):t._e()],1)};r._withStripped=!0;var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar navbar-default"},[n("div",{staticClass:"container-fluid"},t._l(t.meta,function(e,a){return n("menu-"+e.type,{directives:[{name:"show",rawName:"v-show",value:t.visible(e),expression:"visible(item)"}],key:a,tag:"component",attrs:{meta:e,data:t.data,selected:t.selected,list:t.list}})}),1)])};l._withStripped=!0;var i=n(3).a,o=n(0),c=Object(o.a)(i,l,[],!1,null,null,null);c.options.__file="kbTable/src/Menu.vue";var u=c.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-striped table-hover"},[n("thead",[n("tr",[n("th",[t.list.length?n("input",{attrs:{type:"checkbox"},on:{change:t.selectAll}}):t._e()]),t._v(" "),t._l(t.meta.columns.map(function(e){return{colName:e.name,header:e.header||t.defaultHeaderMeta}}),function(e){var a=e.colName,s=e.header;return n("th",{key:"header_"+a,class:s.class,style:s.style},[t._v(t._s(s.text))])})],2)]),t._v(" "),n("tbody",t._l(t.list,function(e,a){return n("tr",{key:a},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.__selected,expression:"row.__selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.__selected)?t._i(e.__selected,null)>-1:e.__selected},on:{change:function(n){var a=e.__selected,s=n.target,r=!!s.checked;if(Array.isArray(a)){var l=t._i(a,null);s.checked?l<0&&t.$set(e,"__selected",a.concat([null])):l>-1&&t.$set(e,"__selected",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"__selected",r)}}})]),t._v(" "),t._l(t.meta.columns.map(function(e){return{colName:e.name,cell:e.cell||t.defaultTextMeta}}),function(s){var r=s.colName,l=s.cell;return n("cell-"+l.type,{key:a+"_"+r,tag:"component",attrs:{name:r,meta:l,row:e,list:t.list}})})],2)}),0)])])};m._withStripped=!0;var p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",t._l(t.row[t.name],function(e,a){return n("a",{key:a,staticClass:"label label-sm kb-table-label-refer",style:"background-color:"+t.colorClass(a),attrs:{href:"javascript:;"}},[t._v("\n    "+t._s(t.labelText(a,e))+"\n  ")])}),0)};p._withStripped=!0;var h=n(1),_={name:"CellArray",props:{name:String,meta:Object,row:Object},methods:{colorClass:t=>Kooboo.getLabelColor(t),labelText(t,e){if(this.meta.text){const n=this.meta.text.replace("{key}",`{component.table.${t}}`);return this.formatText(n,e)}return e}},mixins:[h.a]},d=Object(o.a)(_,p,[],!1,null,null,null);d.options.__file="kbTable/src/cells/Array.vue";var b=d.exports,v=function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],class:"badge "+this.class,style:this.meta.style},[this._v(this._s(this.text))])])};v._withStripped=!0;var f={name:"CellBadge",props:{name:String,meta:Object,row:Object},mixins:[h.a]},x=Object(o.a)(f,v,[],!1,null,null,null);x.options.__file="kbTable/src/cells/Badge.vue";var w=x.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"table-action"},[n("inner-button",{class:["btn btn-sm",t.meta.class],style:t.meta.style,attrs:{meta:t.meta,row:t.row,name:t.name,list:t.list}},[t._v("\n    "+t._s(t.meta.innerText)+"\n  ")])],1)};y._withStripped=!0;var k=function(){var t=this.$createElement;return(this._self._c||t)("inner-button",{attrs:{meta:this.meta,"bind-url":this.bindUrl,icon:this.icon},on:{click:this.onClick}},[this._t("default")],2)};k._withStripped=!0;var j=n(2),O={name:"CellInnerButton",props:{name:String,meta:Object,list:Array,row:Object,icon:{type:Boolean,default:!1}},methods:{bindUrl(t){return t=t||this.row[this.name],t=this.$parameterBinder().bind(t,this.row)},onClick(){switch(this.meta.action){case"event":this.$root[this.meta.url](this.row);break;case"post":api.post(this.bindUrl(this.meta.url,this.row));break;default:this.$root.$refs.popup.show({parameters:this.$parameterBinder().getUrlKeyValue(this.meta.url),context:this.list,row:this.row})}}},components:{InnerButton:j.a}},g=Object(o.a)(O,k,[],!1,null,null,null);g.options.__file="kbTable/src/cells/_Button.vue";var C=g.exports,$={name:"CellButton",props:{name:String,meta:Object,list:Array,row:Object},mixins:[h.a],components:{InnerButton:C}},T=Object(o.a)($,y,[],!1,null,null,null);T.options.__file="kbTable/src/cells/Button.vue";var S=T.exports,B=function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"table-action"},[e("inner-button",{class:["btn btn-default",this.meta.class],style:this.meta.style,attrs:{meta:this.meta,row:this.row,name:this.name,icon:!0,list:this.list}})],1)};B._withStripped=!0;var A={name:"CellIcon",props:{name:String,meta:Object,list:Array,row:Object},mixins:[h.a],components:{InnerButton:C}},E=Object(o.a)(A,B,[],!1,null,null,null);E.options.__file="kbTable/src/cells/Icon.vue";var I=E.exports,M=function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],class:"label "+this.class,style:this.meta.style},[this._v(this._s(this.text))])])};M._withStripped=!0;var D={name:"CellLabel",props:{name:String,meta:Object,row:Object},mixins:[h.a]},U=Object(o.a)(D,M,[],!1,null,null,null);U.options.__file="kbTable/src/cells/Label.vue";var N=U.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("inner-button",{class:t.meta.class,style:"cursor:pointer; "+t.meta.style,attrs:{meta:t.meta,row:t.row,name:t.name}},[t._v(t._s(t.text))])],1)};L._withStripped=!0;var P={name:"CellLink",props:{name:String,meta:Object,row:Object},mixins:[h.a],components:{InnerButton:C}},K=Object(o.a)(P,L,[],!1,null,null,null);K.options.__file="kbTable/src/cells/Link.vue";var R=K.exports,V=function(){var t=this.$createElement;return(this._self._c||t)("td",[this._v(this._s(this.text))])};V._withStripped=!0;var q={name:"CellText",props:{name:String,meta:Object,row:Object},mixins:[h.a]},W=Object(o.a)(q,V,[],!1,null,null,null);W.options.__file="kbTable/src/cells/Text.vue";var F=W.exports,H=function(){var t=this.$createElement;return(this._self._c||t)("td",[this._v(this._s(this.text))])};H._withStripped=!0;var X={name:"CellDate",props:{name:String,meta:Object,row:Object},computed:{text(){return new Date(this.row[this.name]).toDefaultLangString()}},mixins:[h.a]},z=Object(o.a)(X,H,[],!1,null,null,null);z.options.__file="kbTable/src/cells/Date.vue";var G=z.exports;const J={text:""},Q={type:"text"};var Y={name:"TableContent",props:{meta:Object,list:Array},computed:{defaultHeaderMeta:()=>J,defaultTextMeta:()=>Q},methods:{selectAll(t){const e=t.target.checked;this.list.forEach(t=>{s.a.set(t,"__selected",e)})}},components:{...{CellArray:b,CellBadge:w,CellButton:S,CellIcon:I,CellLabel:N,CellLink:R,CellText:F,CellDate:G}}},Z=Object(o.a)(Y,m,[],!1,null,null,null);Z.options.__file="kbTable/src/Table.vue";var tt=Z.exports,et={name:"KoobooTable",props:{meta:Object,data:Object,listName:String},computed:{selected(){return this.list.filter(t=>t.__selected)},list(){return this.data?this.listName?this.data[this.listName]:this.data:[]}},components:{InnerMenu:u,InnerTable:tt}},nt=Object(o.a)(et,r,[],!1,null,null,null);nt.options.__file="kbTable/src/Index.vue";var at=nt.exports;s.a.component("kb-table",at)}]);