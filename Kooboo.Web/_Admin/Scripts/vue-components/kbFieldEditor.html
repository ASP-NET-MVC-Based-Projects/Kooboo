<div>
    <kb-dialog ref="dialog">
        <kb-dialog-header :close-handle="closeHandle"
                          :title="Kooboo.text.component.fieldEditor.title"></kb-dialog-header>
        <kb-dialog-content>
            <div>
                <kb-tabs :display-names="displayNames" :active="1">
                    <kb-container>
                        <template #content>
                            <kb-form :model="d_data" :rules="formRules">
                                <kb-form-item
                                        prop="domain"
                                >
                                    <label class="col-md-3 control-label">{{Kooboo.text.common.name}}</label>
                                    <div class="col-md-9">
                                        <div class="input-group"
                                             data-bind="error: field().name, errorContainer: '.name-error-container'">
                                            <!-- ko if: field().isNewField -->
                                            <input v-model="d_data.name"
                                                    type="text" class="form-control key">
                                            <!-- /ko -->
                                            <!-- ko if: !field().isNewField() -->
                                            <p class="form-control-static key" data-bind="text: field().name"
                                               style="word-break: break-word;"></p>
                                            <!-- /ko -->
                                            <!-- ko if: field().modifiedField() -->
                                            <span class="input-group-addon" v-if="d_data.isSystemField">
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox"
                                                           checked="d_data.modifiedFieldName">
                                                    <!-- ko text: field().modifiedFieldText -->摘要字段<!-- /ko -->
                                                </label>
                                            </div>
                                        </span>
                                            </span>
                                            <!-- /ko -->
                                        </div>
                                    </div>
                                </kb-form-item>
                                <kb-form-item
                                        prop="domain"
                                >
                                    <label class="col-md-3 control-label">{{ Kooboo.text.common.displayName}}</label>
                                    <div class="col-md-9">
                                        <input v-model="d_data.displayName"
                                                type="text" class="form-control key">
                                    </div>
                                </kb-form-item>
                                <kb-form-item
                                        prop="domain"
                                >
                                    <div class="col-md-9 col-md-offset-3">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" :checked="d_data.editable"><span>{{Kooboo.text.component.fieldEditor.userEditable}}</span>
                                            </label>
                                        </div>
                                    </div>
                                </kb-form-item>
                                <kb-form-item
                                        prop="domain"
                                >
                                    <label class="col-md-3 control-label">{{Kooboo.text.component.fieldEditor.controlType}}</label>
                                    <div class="col-md-9">
                                        <!-- ko if: controlTypes().length > 1 -->
                                        <select class="form-control" v-model="d_data.controlType">
                                            <option v-for="(item , index) in _controlTypes" :value="item.value">
                                                {{item.displayName}}
                                            </option>
                                        </select>
                                        <!-- /ko -->
                                        <!-- ko if: controlTypes().length == 1 -->
                                        <p class="form-control-static">
                                            <!--{{Kooboo.text.component.controlType[_.camelCase()]}}--></p>
                                        <!-- /ko -->
                                    </div>
                                </kb-form-item>
                            </kb-form>
                            <kb-container tag='div' :v-nodes="$refs.dialog.$slots.preview"
                                          class="panel panel-default margin-top-20"></kb-container>
                        </template>
                    </kb-container>
                    <kb-container>
                        <template #content>
                            <kb-form :model="d_data" :rules="formRules">
                                <kb-form-item
                                        prop="domain"
                                >
                                    <label class="control-label col-md-3">{{Kooboo.text.component.fieldEditor.tooltip}}</label>
                                    <div class="col-md-9">
                                        <input type="text" v-model="d_data.tooltip"class="form-control">
                                    </div>
                                </kb-form-item>
                                <kb-form-item
                                        prop="domain"
                                >
                                    <div class="col-md-9 col-md-offset-3">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"  :checked="d_data.multipleLanguage">
                                                <span>{{Kooboo.text.component.fieldEditor.enableMultilingual}}</span>
                                            </label>
                                        </div>
                                    </div>
                                </kb-form-item>
                            </kb-form>
                            <kb-container tag='div' :v-nodes="$refs.dialog.$slots.preview"
                                          class="panel panel-default margin-top-20"></kb-container>
                        </template>
                    </kb-container>
                    <kb-container>
                        <template #content>content 2</template>
                    </kb-container>


                </kb-tabs>
            </div>
        </kb-dialog-content>
        <kb-dialog-footer>
            <button class="btn green" data-bind="click: onModalSave">Save</button>
            <button class="btn gray" data-bind="click: onHide">Cancel</button>
        </kb-dialog-footer>
        <template #preview>
            <div class="panel-heading">
                <h6 class="panel-title">{{Kooboo.text.common.preview}}</h6>
            </div>
            <div class="panel-body form-horizontal">
                <div class="form-group">
                    <label class="control-label col-md-3">{{d_data.displayName || d_data.name}}</label>
                    <div class="col-md-9">
                        <img :src="getControlTypeByValue(d_data.controlType).preview" style="max-width: 100%;">
                        <span class="help-block">{{d_data.tooltip}}</span>
                    </div>
                </div>
            </div>
        </template>

    </kb-dialog>
</div>

