tinymce.PluginManager.requireLangPack("monaco"),tinymce.PluginManager.add("monaco",function(n,t){function o(){n.focus(),n.selection.collapse(!0),n.settings.monaco.saveCursorPosition&&n.selection.setContent('<span style="display: none;" class="CmCaReT">&#x0;</span>'),monacoWidth=800,n.settings.monaco.width&&(monacoWidth=n.settings.monaco.width),monacoHeight=550,n.settings.monaco.width&&(monacoHeight=n.settings.monaco.height);var o={title:"HTML source code",url:t+"/source.html",width:monacoWidth,height:monacoHeight,resizable:!0,maximizable:!0,fullScreen:n.settings.monaco.fullscreen,buttons:[{text:"Ok",subtype:"primary",onclick:function(){document.querySelectorAll(".mce-container-body>iframe")[0].contentWindow.submit(),e.close()}},{text:"Cancel",onclick:"close"}]},e=n.windowManager.open(o);n.settings.monaco.fullscreen&&e.fullscreen(!0)}n.addButton("code",{title:"Source code",icon:"code",onclick:o}),n.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:o})});